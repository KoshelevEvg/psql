# psql
Postgres training

## Содержание
- [Lesson 1](#Lesson-1)
- [Lesson 2](#Lesson-2)

# Lesson 1

```postgresql
select count(*) from book.tickets;
```

```json
[
  {
    "count": 5185505
  }
]
```

# Lesson 2

**Работа с уровнем изоляции read commited**

По дефолту уровень изоляции в БД - это read commited 
Т.е осуществляется чтение только закомиченных данных. И получается, если две транзакции стартанули одновременно. 
Одна из них пишет в таблицу данные, но не закомитела, то вторая не увидит эти данные. Эти данные появятся только тогда, 
когда первая транзакция закомитит данные. И получается, что если первая транзакция завершится успешно, то данные станут доступны
во второй транзакции, даже если вторая еще не завершилась.

Каждый оператор SELECT в транзакции видит снимок данных (snapshot) на момент начала выполнения этого оператора.
Если данные изменяются другими транзакциями и фиксируются во время выполнения текущей транзакции, последующие запросы SELECT увидят эти изменения.

**Работа с уровнем изоляции REPEATABLE READ**

Результат выполнений. Во время одновременного запуска двух транзакций, вторая транзакция не видит новые данные ни во время 
выполнения первой транзакции, ни после того как первая транзакция закомитит свои изменения.

Основные отличия от дефолтного уровня изоляции:
- Транзакция видит только те данные, которые были зафиксированы (committed) до её начала.
- После начала транзакции все последующие операции чтения (SELECT) будут видеть один и тот же снимок данных (snapshot), 
даже если другие транзакции изменяют и фиксируют данные.